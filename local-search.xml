<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>云相关技巧</title>
    <link href="/2020/10/10/%E4%BA%91%E7%9B%B8%E5%85%B3%E6%8A%80%E5%B7%A7/"/>
    <url>/2020/10/10/%E4%BA%91%E7%9B%B8%E5%85%B3%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<h5 id="提高gitbub下载速度，修改-39-etc-host-39-中的DNS。"><a href="#提高gitbub下载速度，修改-39-etc-host-39-中的DNS。" class="headerlink" title="提高gitbub下载速度，修改&#39;/etc/host&#39;中的DNS。"></a>提高gitbub下载速度，修改<code>&#39;/etc/host&#39;</code>中的DNS。</h5><pre><code class="hljs css">140<span class="hljs-selector-class">.82</span><span class="hljs-selector-class">.114</span><span class="hljs-selector-class">.3</span>    <span class="hljs-selector-tag">github</span><span class="hljs-selector-class">.com</span>151<span class="hljs-selector-class">.101</span><span class="hljs-selector-class">.185</span><span class="hljs-selector-class">.194</span> <span class="hljs-selector-tag">github</span><span class="hljs-selector-class">.global</span><span class="hljs-selector-class">.ssl</span><span class="hljs-selector-class">.fastlu</span><span class="hljs-selector-class">.net</span></code></pre><h5 id="Docker进入实例中进行文件编辑"><a href="#Docker进入实例中进行文件编辑" class="headerlink" title="Docker进入实例中进行文件编辑"></a>Docker进入实例中进行文件编辑</h5><p>8d2281dd8cf6为实例ID</p><pre><code class="hljs awk">$ sudo docker exec -it <span class="hljs-number">8</span>d2281dd8cf6 <span class="hljs-regexp">/bin/</span>bash$ <span class="hljs-keyword">exit</span></code></pre><h5 id="Docker阿里云加速"><a href="#Docker阿里云加速" class="headerlink" title="Docker阿里云加速"></a>Docker阿里云加速</h5><pre><code class="hljs stylus">$ sudo docker login --username=liuchenhao891113@sina<span class="hljs-selector-class">.com</span> registry<span class="hljs-selector-class">.cn-hangzhou</span><span class="hljs-selector-class">.aliyuncs</span>.com&gt; lch891113</code></pre><h5 id="Docker创建BT下载服务器容器"><a href="#Docker创建BT下载服务器容器" class="headerlink" title="Docker创建BT下载服务器容器"></a>Docker创建BT下载服务器容器</h5><pre><code class="hljs routeros">docker create \  <span class="hljs-attribute">--name</span>=qbittorrent \  -e <span class="hljs-attribute">PUID</span>=1000 \  -e <span class="hljs-attribute">PGID</span>=1000 \  -e <span class="hljs-attribute">TZ</span>=Aisa/Shanghai \  -e <span class="hljs-attribute">UMASK_SET</span>=022 \  -e <span class="hljs-attribute">WEBUI_PORT</span>=8081 \  -p 8999:8999 \  -p 8999:8999/udp \  -p 8081:8081 \  -v /path/<span class="hljs-keyword">to</span>/appdata/config:<span class="hljs-built_in">/config </span>\  -v /path/<span class="hljs-keyword">to</span>/downloads:/downloads \  --restart unless-stopped \  linuxserver/qbittorrent</code></pre><h5 id="Jupyter-Notebook相关操作"><a href="#Jupyter-Notebook相关操作" class="headerlink" title="Jupyter Notebook相关操作"></a>Jupyter Notebook相关操作</h5><p>修改密码</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> jupyter notebook password</span></code></pre><p>服务启动</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda activate notebook</span><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /root/.jupyter</span><span class="hljs-meta">$</span><span class="bash"> nohup jupyter notebook --allow-root &gt; jupyter.log 2&gt;&amp;1 &amp;</span>[1] 21503</code></pre><p>服务停止</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ps aux</span>root     21503  ··· /root/anaconda3/bin/python /root/anaconda3/bin/jupyter-notebook --allow-root<span class="hljs-meta">$</span><span class="bash"> sudo <span class="hljs-built_in">kill</span> -21503 pid</span></code></pre><p>重装内核</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> python -m ipykernel install --user</span></code></pre><p>Jupyter Notebook切换conda虚拟环境插件安装</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda install nb_conda</span></code></pre><p>jupyter_contrib_nbextensions插件安装</p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> conda install -c conda-forge jupyter_contrib_nbextensionsconda install -c</span>conda-forge jupyter_nbextensions_configurator</code></pre><h5 id="code-server启动"><a href="#code-server启动" class="headerlink" title="code-server启动"></a>code-server启动</h5><p>安装nginx</p><pre><code class="hljs properties"><span class="hljs-attr">sudo</span> <span class="hljs-string">apt update</span><span class="hljs-attr">sudo</span> <span class="hljs-string">apt install -y nginx certbot python-certbot-nginx</span></code></pre><p>建立http映射，进入<code>/etc/nginx/sites-available/code-server</code></p><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123;    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;    <span class="hljs-attribute">listen</span> [::]:<span class="hljs-number">80</span>;    <span class="hljs-attribute">server_name</span> mydomain.com;    <span class="hljs-attribute">location</span> / &#123;      <span class="hljs-attribute">proxy_pass</span> http://localhost:8080/;      <span class="hljs-attribute">proxy_set_header</span> Host <span class="hljs-variable">$host</span>;      <span class="hljs-attribute">proxy_set_header</span> Upgrade <span class="hljs-variable">$http_upgrade</span>;      <span class="hljs-attribute">proxy_set_header</span> Connection upgrade;      <span class="hljs-attribute">proxy_set_header</span> Accept-Encoding gzip;    &#125;&#125;</code></pre><pre><code class="hljs awk">sudo ln -s ..<span class="hljs-regexp">/sites-available/</span>code-server <span class="hljs-regexp">/etc/</span>nginx<span class="hljs-regexp">/sites-enabled/</span>code-serversudo certbot --non-interactive --redirect --agree-tos --nginx -d mydomain.com -m me@example.com</code></pre><p><a href="https://github.com/cdr/code-server/blob/master/doc/guide.md#lets-encrypt">https://github.com/cdr/code-server/blob/master/doc/guide.md#lets-encrypt</a></p><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> systemctl --user restart code-server</span></code></pre><h5 id="查看端口"><a href="#查看端口" class="headerlink" title="查看端口"></a>查看端口</h5><pre><code class="hljs shell">netstat -aptn</code></pre><h5 id="启动nginx"><a href="#启动nginx" class="headerlink" title="启动nginx"></a>启动nginx</h5><pre><code class="hljs shell">nginx</code></pre><h5 id="启动hexo"><a href="#启动hexo" class="headerlink" title="启动hexo"></a>启动hexo</h5><pre><code class="hljs shell">cd ~/hexo-bloghexo server</code></pre><h5 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h5><pre><code class="hljs shell">crontab [-u username] [-l|-e|-r]参数：-u: 只有root才能进行这个任务，也即帮其他用户新建/删除crontab工作调度;-e: 编辑crontab 的工作内容;-l: 查阅crontab的工作内容;-r: 删除所有的crontab的工作内容，若仅要删除一项，请用-e去编辑。</code></pre>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
